import pygamefrom person import Personfrom pygame.sprite import Groupfrom bullets import Bulletfrom barrier import Barrierfrom mob import Mobimport sysdef update_screen(bg_color, screen, person, bullets, barrier, clock, FPS, mobs):    screen.fill(bg_color)    for bullet in bullets.sprites():        bullet.draw_bullet()    for mob in mobs.sprites():        mob.draw_mob()    barrier.draw_barrier(screen)    person.output_person()    clock.tick(FPS)    pygame.display.flip()def update_bullets_mobs(bullets, screen, shot_right, barrier, mob, mobs, pos):    #  обновление позиций пуль и мобов    bullets.update(shot_right)    mobs.update(pos)    for bullet in bullets.copy():        if bullet.rect.right >= screen.get_rect().right or bullet.rect.left <= 0:            bullets.remove(bullet)        if pygame.sprite.spritecollideany(barrier, bullets):            bullets.remove(bullet)        if pygame.sprite.spritecollideany(mob, bullets) and mob.life:            bullets.remove(bullet)            mobs.remove(mob)            mob.life = False'''def load_map(filename):    map_data = []    with open(filename, 'r') as file:        for line in file:            map_data.append(list(line.strip()))    return map_datadef draw_map(map_data, barriers, screen):    for y, row in enumerate(map_data):        for x, tile in enumerate(row):            if tile == '1':  # Препятствие                barrier = Barrier(x * 50, y * 50)                barriers.add(barrier)                barrier.draw_barrier(screen)'''def start():    screen_width = 1200    screen_height = 800    pygame.display.set_caption('Стартовое окно')    font = pygame.font.SysFont('Arial', 32)    # Создаем текст для кнопки    button_text1 = font.render('Уровень 1', True, 'black')    button_text2 = font.render('Уровень 2', True, 'black')    button_text3 = font.render('Уровень 3', True, 'black')    # Создаем прямоугольник для кнопки    button_rect1 = button_text1.get_rect()    button_rect2 = button_text2.get_rect()    button_rect3 = button_text3.get_rect()    button_rect1.center = (screen_width // 3, screen_height // 2)    button_rect2.center = (screen_width // 2, screen_height // 2)    button_rect3.center = (screen_width // 1.5, screen_height // 2)    game_started = False    while True:        for event in pygame.event.get():            if event.type == pygame.QUIT:                pygame.quit()                sys.exit()            if event.type == pygame.MOUSEBUTTONDOWN:                if button_rect1.collidepoint(event.pos):                    game_started = True                    game()                elif button_rect2.collidepoint(event.pos):                    game_started = True                    game()                elif button_rect3.collidepoint(event.pos):                    game_started = True                    game()        screen.fill((255, 255, 170))        if not game_started:            # Рисуем прямоугольник для кнопки            pygame.draw.rect(screen,  (255, 255, 170), button_rect1)            pygame.draw.rect(screen,  (255, 255, 170), button_rect2)            pygame.draw.rect(screen,  (255, 255, 170), button_rect3)            # Рисуем текст для кнопки            screen.blit(button_text1, button_rect1)            screen.blit(button_text2, button_rect2)            screen.blit(button_text3, button_rect3)        pygame.display.update()def game():    pygame.display.set_caption('Бабл квас')    image_pers_right = pygame.image.load('image/person_right.png')    image_pers_left = pygame.image.load('image/person_left.png')    bg_color = (255, 255, 170)    person = Person(screen, image_pers_right)    pos = person.rect    bullets = Group()    barriers = Group()    barrier = Barrier(200, 400)    barriers.add(barrier)    mobs = Group()    mob = Mob(screen)    mobs.add(mob)    clock = pygame.time.Clock()    FPS = 60    shot_right = True    game = True    all_sprites = pygame.sprite.Group()    all_sprites.add(person)    all_sprites.add(barrier)    while game:        for event in pygame.event.get():            if event.type == pygame.QUIT:                game = False                sys.exit()            elif event.type == pygame.KEYDOWN:                # движение персонажа вправо                if event.key == pygame.K_d:                    person.move_right = True                    person.update_skin(image_pers_right)                    shot_right = True                    for bullet in bullets.copy():                        bullets.remove(bullet)                # движение персонажа влево                elif event.key == pygame.K_a:                    person.move_left = True                    person.update_skin(image_pers_left)                    shot_right = False                    for bullet in bullets.copy():                        bullets.remove(bullet)                # движение персонажа вверх                elif event.key == pygame.K_w:                    person.move_up = True                # движение персонажа вниз                elif event.key == pygame.K_s:                    person.move_down = True                elif event.key == pygame.K_SPACE:                    new_bullet = Bullet(screen, person)                    bullets.add(new_bullet)            elif event.type == pygame.KEYUP:                # движение персонажа вправо                if event.key == pygame.K_d:                    person.move_right = False                # движение персонажа влево                elif event.key == pygame.K_a:                    person.move_left = False                # движение персонажа вверх                elif event.key == pygame.K_w:                    person.move_up = False                # движение персонажа вниз                elif event.key == pygame.K_s:                    person.move_down = False        if pygame.sprite.collide_rect(person, barrier):            if person.rect.left < barrier.rect.left:                person.person_barrier_left()            elif person.rect.right > barrier.rect.right:                person.person_barrier_right()        person.update_person()        update_screen(bg_color, screen, person, bullets, barrier, clock, FPS, mobs)        update_bullets_mobs(bullets, screen, shot_right, barrier, mob, mobs, pos)pygame.init()screen = pygame.display.set_mode((1200, 800))start()