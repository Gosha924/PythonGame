import randomimport pygamefrom person import Personfrom pygame.sprite import Groupfrom bullets import Bulletfrom barrier import Barrierfrom mob import Mobimport timedef update_screen(bg_color, screen, person, bullets, barriers, clock, FPS, mobs):    global score    screen.fill(bg_color)    for mob in mobs.sprites():        mob.draw_mob()        mob.update_bullets_mobs()        for bullet in bullets.sprites():            bullet.draw_bullet()            if pygame.sprite.spritecollideany(mob, bullets) and mob.life:                bullets.remove(bullet)                mobs.remove(mob)                score += 10                mob.life = False        for bullet_mob in mob.bullets_mobs.sprites():            bullet_mob.draw_bullet_mob()            if bullet_mob.rect.right >= screen.get_rect().right or bullet_mob.rect.left <= 0:                mob.bullets_mobs.remove(bullet_mob)            for barrier in barriers.sprites():                if pygame.sprite.collide_rect(bullet_mob, barrier):                    mob.bullets_mobs.remove(bullet_mob)            if pygame.sprite.collide_rect(person, bullet_mob):                    mob.bullets_mobs.remove(bullet_mob)                    end_game_window(score)                    person.life = False    for barrier in barriers.sprites():        barrier.draw_barrier(screen)    person.output_person()    clock.tick(FPS)    pygame.display.flip()def update_bullets_mobs(bullets, screen, shot_right, barriers, mobs, pos, person):    #  обновление позиций пуль и мобов    global score    bullets.update(shot_right)    mobs.update(pos, person)    for bullet in bullets.copy():        if bullet.rect.right >= screen.get_rect().right or bullet.rect.left <= 0:            bullets.remove(bullet)        for barrier in barriers.copy():            if pygame.sprite.spritecollideany(barrier, bullets):                bullets.remove(bullet)def start(mobs):    screen_width = 1200    screen_height = 800    pygame.display.set_caption('Стартовое окно')    font = pygame.font.SysFont('Arial', 32)    # Создаем текст для кнопки    button_text1 = font.render('Начать игру', True, 'black')    # Создаем прямоугольник для кнопки    button_rect1 = button_text1.get_rect()    button_rect1.center = (screen_width // 2, screen_height // 2)    game_started = False    while True:        for event in pygame.event.get():            if event.type == pygame.QUIT:                pygame.quit()            if event.type == pygame.MOUSEBUTTONDOWN:                if button_rect1.collidepoint(event.pos):                    game_started = True                    game(mobs)        screen.fill((255, 255, 170))        if not game_started:            # Рисуем прямоугольник для кнопки            pygame.draw.rect(screen,  (255, 255, 170), button_rect1)            # Рисуем текст для кнопки            screen.blit(button_text1, button_rect1)        pygame.display.update()def game(mobs):    global last_shoot_time, score, gaming    score = 0    pygame.display.set_caption('Бабл квас')    image_pers_right = pygame.image.load('image/person_right.png')    image_pers_left = pygame.image.load('image/person_left.png')    bg_color = (255, 255, 170)    person = Person(screen, image_pers_right)    pos = person.rect    bullets = Group()    barriers = Group()    barrier7 = Barrier(950, 70)    barrier6 = Barrier(950, 130)    barrier10 = Barrier(950, 190)    barrier8 = Barrier(1010, 190)    barrier9 = Barrier(1050, 190)    barriers.add(barrier6)    barriers.add(barrier7)    barriers.add(barrier8)    barriers.add(barrier9)    barriers.add(barrier10)    barrier1 = Barrier(250, 515)    barrier2 = Barrier(250, 565)    barrier3 = Barrier(180, 515)    barrier4 = Barrier(115, 515)    barrier5 = Barrier(250, 625)    barrier11 = Barrier(600, 400)    barrier12 = Barrier(600, 450)    barriers.add(barrier1)    barriers.add(barrier2)    barriers.add(barrier3)    barriers.add(barrier4)    barriers.add(barrier5)    barriers.add(barrier11)    barriers.add(barrier12)    mob = Mob(screen, random.randint(1, 2))    mobs.add(mob)    clock = pygame.time.Clock()    FPS = 60    shot_right = True    game = True    while game:        for event in pygame.event.get():            if event.type == pygame.QUIT:                game = False                pygame.quit()            elif event.type == pygame.KEYDOWN:                # движение персонажа вправо                if event.key == pygame.K_d:                    person.move_right = True                    person.update_skin(image_pers_right)                    shot_right = True                    for bullet in bullets.copy():                        bullets.remove(bullet)                # движение персонажа влево                elif event.key == pygame.K_a:                    person.move_left = True                    person.update_skin(image_pers_left)                    shot_right = False                    for bullet in bullets.copy():                        bullets.remove(bullet)                # движение персонажа вверх                elif event.key == pygame.K_w:                    person.move_up = True                # движение персонажа вниз                elif event.key == pygame.K_s:                    person.move_down = True                elif event.key == pygame.K_SPACE:                    new_bullet = Bullet(screen, person)                    bullets.add(new_bullet)            elif event.type == pygame.KEYUP:                # движение персонажа вправо                if event.key == pygame.K_d:                    person.move_right = False                # движение персонажа влево                elif event.key == pygame.K_a:                    person.move_left = False                # движение персонажа вверх                elif event.key == pygame.K_w:                    person.move_up = False                # движение персонажа вниз                elif event.key == pygame.K_s:                    person.move_down = False        for barrier in barriers.sprites():            if pygame.sprite.collide_rect(person, barrier):                if person.rect.left < barrier.rect.left:                    person.person_barrier_left()                elif person.rect.right > barrier.rect.right:                    person.person_barrier_right()        if time.time() - last_shoot_time > 3.5:            new_mob = Mob(screen, random.randint(1, 2))            mobs.add(new_mob)            last_shoot_time = time.time()        person.update_person()        update_screen(bg_color, screen, person, bullets, barriers, clock, FPS, mobs)        update_bullets_mobs(bullets, screen, shot_right, barriers, mobs, pos, person)def end_game_window(score):    screen_width = 1200    screen_height = 800    best_score = int(open('image/best_score.txt').readline())    if best_score < score:        with open('image/best_score.txt', 'w') as file:            file.write(f'{score}')    pygame.display.set_caption('Финальное окно')    font = pygame.font.SysFont('Arial', 32)    # Создаем текст для кнопки    text1 = f'Game Over! Your Score: {score}'    text2 = f'Best Score: {best_score}'    button_text1 = font.render(text1, True, 'black')    button_text2 = font.render(text2, True, 'black')    # button_text3 = font.render('Restart', True, 'black')    # Создаем прямоугольник для кнопки    button_rect1 = button_text1.get_rect()    button_rect2 = button_text2.get_rect()    button_rect1.center = (screen_width // 2, screen_height // 3)    button_rect2.center = (screen_width // 2, screen_height // 2)    game_started = False    while True:        for event in pygame.event.get():            if event.type == pygame.QUIT:                exit()        screen.fill((255, 255, 170))        if not game_started:            # Рисуем прямоугольник для кнопки            pygame.draw.rect(screen, (255, 255, 170), button_rect1)            pygame.draw.rect(screen, (255, 255, 170), button_rect2)            # Рисуем текст для кнопки            screen.blit(button_text1, button_rect1)            screen.blit(button_text2, button_rect2)        pygame.display.update()last_shoot_time = time.time()score = 0gaming = Truepygame.init()screen = pygame.display.set_mode((1200, 800))mobs = Group()start(mobs)pygame.quit()